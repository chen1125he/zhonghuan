(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de166"],{"83c8":function(t,e,l){"use strict";l.r(e);var a=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"container",staticStyle:{margin:"15px 15px"}},[l("el-row",{staticStyle:{"font-size":"16px",color:"#303133"},attrs:{type:"flex",justify:"start"}},[t._v("楼盘管理")]),l("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"end"}},[l("el-button",{attrs:{plain:"",size:"small"}},[l("router-link",{attrs:{to:{path:"/property/create",query:{pageState:1}}}},[t._v(" 添加楼盘")])],1)],1),l("el-row",{staticStyle:{"margin-top":"30px"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.buildings,stripe:!0,"highlight-current-row":""}},[l("el-table-column",{attrs:{label:"封面图","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[l("img",{staticStyle:{width:"40px",height:"40px","background-color":"#eee"},attrs:{src:t.row.cover}})]}}])}),l("el-table-column",{attrs:{prop:"name",label:"名称","min-width":"150"}}),l("el-table-column",{attrs:{prop:"address",label:"地址","min-width":"150","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"price_per_sqm",label:"价格","min-width":"150","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"",label:"关注人数","min-width":"150","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{label:"操作","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"}},[l("router-link",{staticClass:"el-button--text",attrs:{to:{path:"/property/"+e.row.id+"/detail"}}},[t._v("编辑")])],1),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){t.deleteHandleClick(e.row,"delete")}}},[t._v("删除")]),l("el-button",{attrs:{type:"text",size:"small",disabled:""},on:{click:function(l){t.deleteHandleClick(e.row,"totalFollow")}}},[t._v("清空总关注人数")]),l("el-button",{attrs:{type:"text",size:"small",disabled:""},on:{click:function(l){t.deleteHandleClick(e.row,"myFollow")}}},[t._v("清空我的关注人数")])]}}])})],1)],1),l("el-row",{staticStyle:{"margin-top":"30px"},attrs:{type:"flex",justify:"end"}},[l("el-pagination",{attrs:{"current-page":t.curPage,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},i=[],n={data:function(){return{currentRow:null,dialogType:"",dialogMsg:"",dialogVisible:!1,buildings:[],curPage:1,pageSize:10,total:0}},components:{},methods:{queryList:function(){var t=this,e={page:this.curPage,per:this.pageSize};this.$http.buildingList(e).then(function(e){if(e){var l=e.data.result_rows;t.buildings=l.buildings||[],t.total=l.page.total_count}})},handleSizeChange:function(t){this.pageSize=t,this.queryList()},handleCurrentChange:function(t){this.curPage=t,this.queryList()},deleteHandleClick:function(t,e){var l,a,i=this;switch(e){case"delete":l="删除后将清空该楼盘的信息，确定删除吗？",a="buildingDelete";break;case"totalFollow":l="确定清零总关注数吗？",a="clearTotalFollow";break;case"myFollow":l="确定清零我的注数吗？",a="clearMyFollow";break}this.$confirm(l,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(e){i.$http[a](t,"delete").then(function(t){t&&(i.$message.success("操作成功"),i.queryList())})}).catch(function(){})}},created:function(){this.queryList()}},o=n,r=l("25c1"),s=Object(r["a"])(o,a,i,!1,null,null,null);s.options.__file="list.vue";e["default"]=s.exports}}]);
//# sourceMappingURL=chunk-2d0de166.531e1ed5.js.map